Injector todos...

Circular dependency errors
Make singletons thread-safe

